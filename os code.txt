#include<stdio.h>
int main()
{
int count,j,m,time,remain,flag=0,t_q;
int wait_time=0,turnaround_time=0,arrivt[10],burstt[10],rt[10];
printf("Enter no.of Process:\t ");
scanf("%d",&m);
remain=m;
for(count=0;count<m;count++)
{
printf("Enter Arrival Time and Burst Time for Process P_num %d :",count+1);
scanf("%d",&arrivt[count]);
scanf("%d",&burstt[count]);
rt[count]=burstt[count];
}
printf("Enter Time Quantum:\t");
scanf("%d",&t_q);
printf("\n\nProcess\t|Turnaround Time|Waiting Time\n\n");
for(time=0,count=0;remain!=0;)
{
if(rt[count]<=t_q && rt[count]>0)
{
time+=rt[count];
rt[count]=0;
flag=1;
}
else if(rt[count]>0)
{
rt[count]-=t_q;
time+=t_q;
}
if(rt[count]==0 && flag==1)
{
remain--;
printf("P[%d]\t|\t%d\t|\t%d\n",count+1,time-arrivt[count],time-arrivt[count]-burstt[count]);
wait_time+=time-arrivt[count]-burstt[count];
turnaround_time+=time-arrivt[count];
flag=0;
}
if(count==m-1)
count=0;
else if(arrivt[count+1]<=time)
count++;
else
count=0;
}
printf("\nAverage Waiting Time= %f\n",wait_time*1.0/m);
printf("Avg Turnaround Time = %f",turnaround_time*1.0/m);
return 0;
}